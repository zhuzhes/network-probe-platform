# 贡献指南

## 欢迎贡献

感谢您对网络拨测平台项目的关注！我们欢迎各种形式的贡献，包括但不限于：

- 🐛 报告Bug
- 💡 提出新功能建议
- 📝 改进文档
- 🔧 提交代码修复
- ✨ 开发新功能
- 🧪 编写测试
- 🌐 翻译文档

## 开始之前

### 行为准则

参与本项目即表示您同意遵守我们的[行为准则](CODE_OF_CONDUCT.md)。我们致力于为所有人提供友好、安全和包容的环境。

### 技能要求

根据您想要贡献的领域，您可能需要以下技能：

**后端开发**：
- Python 3.11+
- FastAPI框架
- SQLAlchemy ORM
- PostgreSQL数据库
- Redis缓存
- WebSocket通信

**前端开发**：
- Vue.js 3
- TypeScript
- Element Plus
- Pinia状态管理

**DevOps**：
- Docker容器化
- Kubernetes编排
- CI/CD流水线
- 监控和日志

## 贡献流程

### 1. 准备工作

#### Fork项目

1. 访问项目GitHub页面
2. 点击右上角的"Fork"按钮
3. 将项目Fork到您的GitHub账户

#### 克隆代码

```bash
git clone https://github.com/YOUR_USERNAME/network-probe-platform.git
cd network-probe-platform
git remote add upstream https://github.com/company/network-probe-platform.git
```

#### 设置开发环境

请参考[开发指南](development-guide.md)设置本地开发环境。

### 2. 选择贡献方式

#### 报告Bug

如果您发现了Bug，请：

1. 检查[Issues页面](https://github.com/company/network-probe-platform/issues)确认问题未被报告
2. 创建新的Issue，使用Bug报告模板
3. 提供详细的重现步骤和环境信息

**Bug报告模板**：

```markdown
## Bug描述
简要描述遇到的问题

## 重现步骤
1. 进入 '...'
2. 点击 '....'
3. 滚动到 '....'
4. 看到错误

## 期望行为
描述您期望发生的情况

## 实际行为
描述实际发生的情况

## 环境信息
- 操作系统: [例如 macOS 12.0]
- 浏览器: [例如 Chrome 95.0]
- Python版本: [例如 3.11.0]
- 项目版本: [例如 v1.0.0]

## 附加信息
添加任何其他有助于解决问题的信息，如截图、日志等
```

#### 功能建议

如果您有新功能的想法：

1. 检查是否已有类似建议
2. 创建Feature Request Issue
3. 详细描述功能需求和使用场景

**功能建议模板**：

```markdown
## 功能描述
清晰简洁地描述您想要的功能

## 问题背景
描述这个功能要解决什么问题

## 解决方案
描述您希望如何实现这个功能

## 替代方案
描述您考虑过的其他解决方案

## 附加信息
添加任何其他相关信息或截图
```

### 3. 代码贡献

#### 创建分支

```bash
# 同步最新代码
git checkout main
git pull upstream main

# 创建功能分支
git checkout -b feature/your-feature-name
```

#### 分支命名规范

- `feature/功能名称` - 新功能开发
- `fix/问题描述` - Bug修复
- `docs/文档类型` - 文档更新
- `refactor/重构内容` - 代码重构
- `test/测试内容` - 测试相关

#### 开发规范

请遵循项目的[代码规范](development-guide.md#代码规范)：

1. **代码风格**：使用black、isort、flake8格式化代码
2. **类型注解**：所有函数都应包含类型注解
3. **文档字符串**：使用Google风格的文档字符串
4. **测试覆盖**：新功能必须包含相应测试
5. **提交信息**：遵循Conventional Commits规范

#### 提交代码

```bash
# 添加文件
git add .

# 提交代码（遵循提交信息规范）
git commit -m "feat: add task scheduling algorithm"

# 推送到您的Fork
git push origin feature/your-feature-name
```

#### 创建Pull Request

1. 访问您的Fork页面
2. 点击"New Pull Request"
3. 选择目标分支（通常是`develop`）
4. 填写PR描述

**PR模板**：

```markdown
## 变更描述
简要描述这个PR的内容

## 变更类型
- [ ] Bug修复
- [ ] 新功能
- [ ] 代码重构
- [ ] 文档更新
- [ ] 测试改进

## 测试
- [ ] 单元测试通过
- [ ] 集成测试通过
- [ ] 手动测试完成

## 检查清单
- [ ] 代码遵循项目规范
- [ ] 已添加必要的测试
- [ ] 文档已更新
- [ ] 无破坏性变更

## 相关Issue
Closes #123

## 截图（如适用）
添加相关截图

## 附加说明
任何其他需要说明的信息
```

### 4. 代码审查

#### 审查流程

1. 自动化检查（CI/CD）
2. 代码审查（至少2名审查者）
3. 测试验证
4. 合并到目标分支

#### 审查标准

**功能性**：
- 功能是否按需求实现
- 边界条件处理
- 错误处理完善性

**代码质量**：
- 代码清晰易读
- 遵循项目规范
- 适当的注释

**性能**：
- 无明显性能问题
- 数据库查询优化
- 内存使用合理

**安全性**：
- 输入验证充分
- 无安全漏洞
- 敏感信息保护

**测试**：
- 测试覆盖充分
- 测试用例有效
- 集成测试通过

#### 处理反馈

1. 认真阅读审查意见
2. 及时回复和修改
3. 推送更新后的代码
4. 感谢审查者的建议

## 特殊贡献类型

### 文档贡献

文档是项目的重要组成部分：

1. **用户文档**：帮助用户使用产品
2. **开发文档**：帮助开发者参与项目
3. **API文档**：详细的接口说明
4. **部署文档**：运维和部署指南

文档位置：
- 用户文档：`docs/user/`
- 开发文档：`docs/development/`
- API文档：`docs/api/`
- 部署文档：`docs/deployment/`

### 翻译贡献

我们欢迎将文档翻译成其他语言：

1. 在`docs/`目录下创建语言目录（如`docs/en/`）
2. 翻译现有文档
3. 保持文档结构一致
4. 定期更新翻译内容

### 测试贡献

帮助提高测试覆盖率：

1. **单元测试**：测试单个函数或类
2. **集成测试**：测试组件间交互
3. **端到端测试**：测试完整用户流程
4. **性能测试**：测试系统性能

### 插件开发

开发协议插件扩展系统功能：

1. 参考[插件开发指南](plugin-development.md)
2. 实现插件接口
3. 编写插件文档
4. 提供使用示例

## 社区参与

### 讨论和交流

- **GitHub Discussions**：功能讨论和问答
- **Issues**：Bug报告和功能请求
- **Pull Requests**：代码审查和讨论

### 会议和活动

- **开发者会议**：每月第一个周五
- **代码审查会**：每周三下午
- **技术分享**：不定期举办

### 认可和奖励

我们会通过以下方式认可贡献者：

1. **贡献者列表**：在README中列出贡献者
2. **发布说明**：在版本发布时感谢贡献者
3. **特殊徽章**：为活跃贡献者提供特殊标识
4. **推荐信**：为优秀贡献者提供推荐

## 发布流程

### 版本规划

我们使用语义化版本控制：

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 发布周期

- **主版本**：每年1-2次
- **次版本**：每季度1次
- **修订版本**：根据需要随时发布

### 发布检查清单

- [ ] 所有测试通过
- [ ] 文档已更新
- [ ] 变更日志已准备
- [ ] 安全审查完成
- [ ] 性能测试通过
- [ ] 向后兼容性检查

## 常见问题

### Q: 我是新手，可以贡献什么？

A: 新手可以从以下开始：
- 修复文档中的错别字
- 改进错误信息
- 添加测试用例
- 翻译文档
- 报告Bug

### Q: 如何选择合适的Issue？

A: 寻找标有以下标签的Issue：
- `good first issue`：适合新手
- `help wanted`：需要帮助
- `documentation`：文档相关
- `bug`：Bug修复

### Q: PR被拒绝了怎么办？

A: 不要气馁：
1. 仔细阅读拒绝原因
2. 与维护者讨论
3. 根据反馈修改
4. 重新提交

### Q: 如何保持Fork同步？

A: 定期同步上游代码：

```bash
git fetch upstream
git checkout main
git merge upstream/main
git push origin main
```

### Q: 可以同时处理多个Issue吗？

A: 建议：
- 新手：一次处理一个Issue
- 有经验者：可以处理2-3个相关Issue
- 避免长时间占用Issue

## 联系方式

如果您有任何问题或需要帮助：

- **GitHub Issues**：技术问题和Bug报告
- **GitHub Discussions**：一般讨论和问答
- **邮件**：dev@network-probe.com
- **微信群**：扫描README中的二维码

## 致谢

感谢所有为项目做出贡献的开发者！您的贡献让这个项目变得更好。

特别感谢：
- 核心维护团队
- 活跃贡献者
- 文档翻译者
- Bug报告者
- 功能建议者

---

再次感谢您的贡献！让我们一起构建更好的网络监控平台。